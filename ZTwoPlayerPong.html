	<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Pong-HTML</title>
    <link href="index.css" rel="stylesheet" type="text/css"/>
    <style>
    	--button-visable: #FFFFFF;
    </style>
  </head>
  <body>
    <script src="index.js"></script>
    <canvas id="Screen" width="500" height="300" 
    	style="
        border: 1px solid #000000;
    		background-color: #0000AF;
      "
    >
    </canvas>
    <p 
      id="P1" 
      style="
    	  position: absolute;
    	  top: 300px;
      "
    > 
    	Hi P1
    </p>
    <p 
      id="P2" 
      style="
    	  position: absolute;
    	  top: 300px;
    	  left: 400px;
      "
    > 
    	Hi P2
    </p> 
    <button 
      type="button" 
    	onclick="restartGame()" 
    	style="
    		position: absolute;
    		top: 320px;
    		left: 210px;
    		text-align: center;
    		background-color: var(--button-visable);
    		color: #FFFFFF;
    		border: none;
    		border-radius: 5px;
    		pading: 15px, 15px;
      "
    >
    	Restart Game?
    </button>
    <script>
    	var Location1 = 100;
    	var Location2 = 100;
      var superHitLeft = false;
      var superHitRight = false;
    	var updateCanvas;
    	var ballRadius = 10;
    	var LeftScore = 0;
    	var RightScore = 0;
    	var gameStarted = false;
    	var gameEnded = false;
    	var centerLineLocation = 247.5;
			var keys = [];
			var counter = 3;
      var leftMoving = false;
      var rightMoving = false;
    	var x = 250;
			var y = 150;
			var dz;
			var dv;
			var dx;
			var dy;
      var de;
      var df;
      var dg;
      var dh;
      var di;
      var dj;
      var dk;
      var dl;
			var P1 = document.getElementById("P1");
			var P2 = document.getElementById("P2");
    	var canvas = document.getElementById("Screen");
    	var ctx = canvas.getContext("2d");
    	ctx.fillStyle = "#FFFFFF";
			ctx.textAlign = "center";
			ctx.font = "30px Comic Sans Ms"
			ctx.fillText("Pong", 250, 100);
			ctx.font = "20px Comic Sans Ms"
			ctx.fillText("Code by: Pyan and Green726", 250, 140);
			ctx.fillText("This game is intended for two player use", 250, 170);
			ctx.fillText("Player 1 press w and s to go up and down", 250, 195);
      ctx.fillText("Player 2 press up and down arrows", 250, 220);
			setTimeout(function () {
        if (gameStarted == false) {
          ctx.fillText("Click anywhere to continue", 250, 270);
        };
			}, 750);
			function buttonColor() {
				gameEnded = true;
				document.documentElement.style.setProperty(
					'--button-visable',
					'#0000AF'
				);
			};
			function restartGame() {
				if (gameEnded == true) {
					document.location.reload();
				};
			};
      function randomizeBall() {
        dz = Math.floor(Math.random()*2);
			  dw = Math.floor(Math.random()*5);
        if (dw == 0) {
				  dy = 2;
			  } else if (dw == 1) {
				  dy = 1;
			  } else if (dw == 2) {
				  dy = 0;
			  } else if (dw == 3) {
				  dy = -1;
			  } else {
				  dy = -2;
			  };
			  if (dy == 1 || dy == -1) {
				  dv = 3;
			  } else  if (dy == 0) {
				  dv = 4;
			  } else {
				  dv = 2;
			  };
			  if (dz == 0) {
				  dx = dv;
			  } else {
				  dx = -dv;
			  };
      };
      randomizeBall();
			function beginGame () {
				ctx.font = "30px Comic Sans Ms"
				ctx.textAlign = "center";
				ctx.clearRect(0, 0, 500, 300);
				ctx.fillText("3", 250, 150);
				setTimeout(function() {
				  ctx.clearRect(0, 0, 500, 300);
				  ctx.fillText("2", 250, 150)
				}, 750);
				setTimeout(function() {
				  ctx.clearRect(0, 0, 500, 300);
				  ctx.fillText("1", 250, 150)
				}, 1500);
				setTimeout(function() {
				  ctx.clearRect(0, 0, 500, 300);
				  ctx.fillText("Go!", 250, 150)
				}, 2250);
			  setTimeout(function () {
			  updateCanvas = setInterval(draw, 7);
			  function drawBall() {
    		ctx.beginPath();
    		ctx.arc(x, y, ballRadius, 0, Math.PI*2);
    		ctx.fill();
			};
      function leftPaddleCD() {
        if (leftMoving == "up") {
          de = 2;
          df = 0;
          dk = 3;
        } else if (leftMoving == "down") {
          de = 0;
          df = 2;
          dk = 3;
        } else {
          de = 1;
          df = 1;
          dk = 4;
        };
        if (x + dx < ballRadius) {
    			if (
						y > Location1 &&
						y < Location1 + 50) {
    				dy = -de;
    				dx = dk;
    			} else if (
    				y > Location1 + 50 &&
    				y < Location1 + 100) {
    				dy = df;
    				dx = dk;
    			} else if (
    				y == Location1 + 50) {
    					dy = 0;
    					dx = 6;
              superHitLeft = true;
    			} else {
            resetBall();
						RightScore++;
    			};
				};
      };
      function rightPaddleCD() {
        if (rightMoving == "up") {
          dg = 2;
          dh = 0;
          dl = -3;
        } else if (rightMoving == "down") {
          dg = 0;
          dh = 2;
          dl = -3;
        } else {
          dg = 1;
          dh = 1;
          dl = -4;
        };
        if (x + dx > 500-ballRadius) {
    			if (
						y > Location2 &&
						y < Location2 + 50) {
    				dy = -dg;
    				dx = dl;
    			} else if (
    				y > Location2 + 50 &&
    				y < Location2 + 100) {
    				dy = dh;
    				dx = dl;
    			} else if (
    				y == Location2 + 50) {
    					dy = 0;
    					dx = -6;
              superHitRight = true;
    			} else {
            resetBall();
						LeftScore++;
    			};
				};
      };
      function paddleCD() {
        leftPaddleCD();
        rightPaddleCD();
      };
      function ballMomentum() {
        x += dx;
    		y += dy;
      };
			function drawRackets() {
				ctx.closePath();
    		ctx.fillStyle = "#FFFFFF";
				ctx.fillRect (0,Location1,7,100);
				ctx.fillRect (493,Location2,7,100);
				ctx.fillRect (centerLineLocation, 0, 5, 300);
			};
      function resetBall() {
        x = 250;
        y = 150;
        dx = 0;
        dy = 0;
        setTimeout(function() {
          randomizeBall()
        }, 500);
      };
      function winGame() {
        if (LeftScore == 10) {
					clearInterval(updateCanvas);
					ctx.clearRect(0, 0, 500, 300);
					ctx.font = "30px Comic Sans MS";
					ctx.fillText("Player 1 won!", 250, 150);
					buttonColor();
				}; 
        if (RightScore == 10) {
					clearInterval(updateCanvas);
					ctx.clearRect(0, 0, 500, 300);
					ctx.font = "30px Comic Sans MS";
					ctx.fillText("Player 2 won!", 250, 150);
					buttonColor();
				};
        P1.innerHTML = "Player 1 score: " + LeftScore;
				P2.innerHTML = "Player 2 score: " + RightScore;
      };
      function wallDetection() {
        if (y + dy > 300-ballRadius || y + dy < ballRadius) {
    			dy = -dy;
				};
      };
			function draw() {
    		ctx.clearRect(0, 0, 500, 300);
    		drawBall();
        drawRackets();
        wallDetection();
        paddleCD();
    		ballMomentum();
        winGame();
				if (keys[40] && Location2 < 200) {
          rightMoving = "down"
        	Location2 += 5;
    		} else if (keys[38] && Location2 > 0) {
          rightMoving = "up"
        	Location2 -= 5;
  		  } else {
          rightMoving = false;
        };
    		if (keys[83] && Location1 < 200) {
          leftMoving = "down"
        	Location1 += 5;
    		} else if (keys[87] && Location1 > 0) {
          leftMoving = "up"
        	Location1 -= 5;
    		} else {
          leftMoving = false;
        };
			};
			document.body.addEventListener("keydown", function (e) {
    			keys[e.keyCode] = true;
				}
			);
			document.body.addEventListener("keyup", function (e) {
    			keys[e.keyCode] = false;
				}
			);
		}, 3000);
	};
		document.getElementById("Screen").addEventListener(
      "click", function() {
				if (gameStarted == false) {
    			beginGame();
					gameStarted = true;
				};
			}
		);
    </script>
  </body>
</html>